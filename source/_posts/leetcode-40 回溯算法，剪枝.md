---
title: leetcode.40 å›žæº¯ç®—æ³•ï¼Œå‰ªæž
date: 2022-11-08 02:30:54
comment: true
categories:
    - æ•°æ®ç»“æž„
tags:
    - dfs
    - å‰ªæž
    - å›žæº¯
---
# é¢˜ç›®:
ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚
candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ ä¸€æ¬¡ ã€‚
æ³¨æ„ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚

## å®žä¾‹1
```
è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
è¾“å‡º:
[
[1,1,6],
[1,2,5],
[1,7],
[2,6]
]
```

## å®žä¾‹2
```
è¾“å…¥: candidates = [2,5,2,1,2], target = 5,
è¾“å‡º:
[
[1,2,2],
[5]
]
```

å¦‚æžœè¿™é¢˜æŒ‰ç…§æœ€æœ´ç´ çš„dfsæœç´¢çš„è¯é¢ã€‚ã€‚ã€‚ã€‚å¤§æ¦‚çŽ‡æ˜¯ä¼šè¶…æ—¶çš„ã€‚
![å°±åƒè¿™æ ·ðŸ‘†](https://files.catbox.moe/cve8lu.png)
ä¸»è¦çš„åŽŸå› æ˜¯dfsä¼šéåŽ†å®Œæ‰€æœ‰ä¸åŒcandidateçš„ç»„åˆï¼ˆè¿™ä¸ªåˆ°æ²¡é—®é¢˜ï¼‰ï¼Œä»¥åŠåŒä¸€ç§ç»„åˆçš„ä¸åŒæŽ’åˆ—æ–¹å¼ï¼Œé—®é¢˜å°±æ˜¯é¢˜ç›®è¦æ±‚æˆ‘ä»¬è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆï¼Œæ‰€ä»¥è¿™ä¸ªåŒä¸€ç§ç»„åˆçš„ä¸åŒæŽ’åˆ—æ–¹å¼æ˜¯éžå¸¸æ²¡æœ‰å¿…è¦çš„ï¼Œæ¯”å¦‚[1,2,3]å’Œ[3,2,1]
æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­


## candidates = [1,1',1"], target = 3
![](https://files.catbox.moe/709t9i.png)
è¿™é‡Œå¯ä»¥çœ‹å¾—å‡ºæ¥å…¶å®žæˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆåœ¨æœ€å·¦è¾¹çš„é‚£ä¸ªåˆ†æ”¯å°±å·²ç»å‡ºçŽ°äº†ï¼Œä¹Ÿå°±æ˜¯[1,1',1"],åŽé¢çš„åˆ†æ”¯è·¯å¾„éƒ½æ˜¯ç¬¬ä¸€ä¸ªåˆ†æ”¯çš„ä¸åŒæŽ’åºè€Œå·²ï¼Œæ˜¯å·²ç»é‡å¤çš„äº†ã€‚

å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŽŸå› å°±æ˜¯åŒä¸€ä¸ªå±‚çº§æœ‰ç›¸åŒçš„åˆ†æ”¯ï¼Œå°±æ¯”å¦‚è¯´ä»Žæ ¹èŠ‚ç‚¹0å‡ºå‘æœ‰ä¸‰ä¸ªå€™é€‰åˆ†æ”¯1 1' 1" ä»–ä»¬è™½ç„¶æ˜¯ä¸åŒçš„çš„1(åˆ†æ”¯ä¸åŒ) ä½†æ˜¯éƒ½æ˜¯æ•°å­—1
æ‰€ä»¥è·¯å¾„[0,1] [0,1'] [0,1"] æœ¬è´¨ä¸Šéƒ½æ˜¯åŒä¸€ä¸ªç»“æžœçš„ä¸åŒæŽ’åºï¼Œæ‰€ä»¥é€‰å“ªä¸ªéƒ½ä¸€æ ·ï¼Œå…¶å®žæœ‰å­¦è¿‡åŠ¨æ€è§„åˆ’çš„ä¼™ä¼´å¯ä»¥ç†è§£ä¸ºï¼Œåªä¿ç•™åˆ†æ”¯ä»¥[0,1*]å¼€å¤´çš„å…¶ä¸­ä¸€ä¸ªå°±å¥½ï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°å‰ªæžçš„æ•ˆæžœã€‚

![](https://files.catbox.moe/1wq0nw.png)

è¿™é‡Œå¼•ç”¨leetcodeé¢˜è§£ä¸‹é¢çš„æŸä¸ªè¯„è®ºï¼Œå¯ä»¥åŠ æ·±ä¸€ä¸‹ç†è§£
![](https://files.catbox.moe/4nrh5o.png)

```python
class Solution:
    def combinationSum2(self, candidates: List[int], target: int) -> List[List[int]]:
        self.target = target
        candidates = sorted([i for i in candidates if i<=target])
        self.result = []
        self.dfs([],candidates)
        return self.result
    def dfs(self,waitlist,next):
        sumlist = sum(waitlist)
        if sumlist==self.target:
            self.result.append(waitlist)
            return
        for i in range(len(next)):
            if (i>0 and next[i]==next[i-1]) or sumlist+next[i]>self.target:continue
            self.dfs(waitlist+[next[i]],next[i+1:])
```
